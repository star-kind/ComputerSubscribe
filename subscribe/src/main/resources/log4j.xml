<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE log4j:configuration SYSTEM "log4j.dtd">
<log4j:configuration
	xmlns:log4j='http://jakarta.apache.org/log4j/'>

	<!--控制台输出sql执行过程 -->
	<appender name="minePrint"
		class="org.apache.log4j.RollingFileAppender">
		<param name="File" value="./logs/mine-print.log" />
		<param name="Append" value="true" />
		<param name="encoding" value="UTF8" />
		<!-- 设置文件大小 -->
		<param name="MaxFileSize" value="3MB" />
		<param name="MaxBackupIndex" value="100" />
		<!-- 设置日志输出的样式 -->
		<layout class="org.apache.log4j.PatternLayout">
			<param name="ConversionPattern"
				value="[%d{dd/MM/yy hh:mm:ss:sss z}] %5p %c{2}: %m%n" />
		</layout>
	</appender>

	<!-- 将日志信息输出到控制台 -->
	<appender name="mineConsole"
		class="org.apache.log4j.ConsoleAppender">
		<layout class="org.apache.log4j.PatternLayout">
			<param name="ConversionPattern"
				value="[%d{yyyy-MM-dd HH:mm:ss:SSS}] [%p] - %m - %l%n" />
		</layout>
		<!--过滤器设置输出的级别 -->
		<filter class="org.apache.log4j.varia.LevelRangeFilter">
			<param name="levelMin" value="debug" />
			<param name="levelMax" value="warn" />
			<param name="AcceptOnMatch" value="true" />
		</filter>
	</appender>
	<!-- -->
	<appender name="mineFile"
		class="org.apache.log4j.RollingFileAppender">
		<param name="File" value="./logs/output.log" /><!-- 设置日志输出文件名 -->
		<!-- 设置是否在重新启动服务时，在原有日志的基础添加新日志 -->
		<param name="Append" value="true" />
		<param name="MaxBackupIndex" value="10" />
		<layout class="org.apache.log4j.PatternLayout">
			<param name="ConversionPattern" value="%p (%c:%L)- %m%n" />
		</layout>
	</appender>
	<!-- -->
	<appender name="ERROR_APPENDER"
		class="org.apache.log4j.DailyRollingFileAppender">
		<param name="file" value="./log/CommonError.log" />
		<param name="append" value="true" />
		<param name="encoding" value="GBK" />
		<!--threshold 注意这里是error 指定日志消息的输出最低层次 -->
		<param name="threshold" value="error" />
		<layout class="org.apache.log4j.PatternLayout">
			<param name="ConversionPattern"
				value="[%d{yyyy-MM-dd HH:mm:ss:SSS}] [%p] - %m - %l%n" />
		</layout>
	</appender>
	<!-- -->
	<appender name="mineOut"
		class="org.apache.log4j.RollingFileAppender">
		<!-- 设置File参数：日志输出文件名 -->
		<param name="File" value="./logs/testLog4jXML_all.html" />
		<!-- 设置是否在重新启动服务时，在原有日志的基础添加新日志 -->
		<param name="Append" value="true" />
		<!-- 设置文件大小 -->
		<param name="MaxFileSize" value="3MB" />
		<!-- 设置文件备份 -->
		<param name="MaxBackupIndex" value="10000" />
		<layout class="org.apache.log4j.HTMLLayout">
			<param name="ConversionPattern"
				value="%d{yyyy-MM-dd HH:mm:ss,SSS}[%t][%c][%p]-%m%n" />
		</layout>
	</appender>
	<!-- -->
	<appender name="activexAppender"
		class="org.apache.log4j.DailyRollingFileAppender">
		<param name="File" value="./logs/activex.log" />
		<param name="DatePattern" value="'.'yyyy-MM-dd'.log'" />
		<layout class="org.apache.log4j.PatternLayout">
			<param name="ConversionPattern"
				value="[%d{yyyy-MM-dd HH:mm:ss:SSS}][%p]-%m-%l%n" />
		</layout>
	</appender>
	<!-- 指定logger的设置，additivity指示是否遵循缺省的继承机制 -->
	<logger name="com.computer.subscribe" level="debug"
		additivity="false">
		<appender-ref ref="activexAppender" />
	</logger>
	<!-- 根logger的设置,定义全局的日志输出级别,但是在输出目的地的配置中配置的具体输出级别优先级高于全局定义的优先级。 如果在railyFile中定义<param 
		name="Threshold" value="info" />，那么将会把info以上级别的信息输出 -->
	<root>
		<level value="INFO" />
		<appender-ref ref="mineConsole" />
		<appender-ref ref="mineFile" />
		<appender-ref ref="mineOut" />
		<appender-ref ref="minePrint" />
	</root>
</log4j:configuration>