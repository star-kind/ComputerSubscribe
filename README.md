# 机房预约系统(进行中ing...)

## 0.架构

### 0.1 整体 
- 开发模式: 前后端分离
- 系统结构: B/S

### 0.2 后台
- FrameWork:  Spring/SpringMVC
- ORM: Mybatis
- DataBase: MySQL

### 0.3 前台
- React
- Axios

## 1.机房预约系统需求

### 1.1 系统简介
+ 学校有几个规模不同的机房，由于使用时经常出现‘’撞车‘’现象，现在开发一个机房预约系统，用以解决此问题。


### 1.2身份简介
分为三种角色身份
- 学生
- 教师
- 管理员

### 1.3 机房简介
机房共有 t 间
- 0号机房，可容纳 x^1/2 人
- 1号机房，可容纳 x^1 人
- 2号机房，可容纳 x^2 人
...
- t号机房，可容纳 x^t 人

### 场景规则
+ 上周的预约单由管理员负责在本周批量清空
+ 每位学生可预约未来1周内的某个机房的某个机位使用，预约时间为周一至周五，需要选择时间段[上午/下午/夜晚]
+ 学生的机房电脑使用时间只允许在当前这周的下一周的周一至周五,一般规定周末机房不开门
+ 如果学生申请某天某时段的机房预约通过批准,那么他对该天其它机房同一时段的预约申请立即失效
+ 若本周内已经向某日期,某时段的任一机房,提交了预约申请,那么其默认处于等待审核中,那么该日此时段,不可再重复提交
+ 教师负责审核预约请求，根据情况决定通过或不通过请求
+ 如果某间机房的某天有效预约单批准数达到可用机位数,此日此机房立即转为不可申请状态
+ 本周所递交之预约单在周五时落定,周五一过,学生不得再提出新申请,教师不得再重新批复已有的请求

### 具体需求
+ 首先进入登录界面，可选登录身份有以下：
	- 学生
	- 教师
	- 管理员

+ 每个身份皆需进行验证，才能进入子菜单
	- 学生：学号、姓名、密码
	- 教师：职工编号、姓名、密码
	- 管理员：管理员账户编号、密码

+ 学生具体权限

	- 自行依据自己的学号注册
	- 申请预约机房
	- 查看自己的预约，即自己的预约信息（日期，时段，机房号，预约状态（成功，待审核中，拒绝，取消预约））
	- 查看所有预约，查看全部预约信息和预约状态
	- 取消预约，取消自己的预约，成功或审核进行中的预约皆可取消
	- 修改自己账号的密码
	- 注销登录，退出登录

+ 教师具体权限

	- 自行依据自己的工号注册
	- 查看所有预约（日期，时段，学号，学生姓名，机房号，预约状态（成功，待审核中，拒绝））
	- 审核学生的预约请求（通过（成功），待审核中，拒绝，取消预约）
	- 修改自己账号的密码
	- 注销登录

+ 管理员权限

	- 管理员最多只能同时拥有 x 名, 现实中管理员由教师担任,是特殊的教师角色,但一个账户不能同时搭配两种角色权限
	- 添加账号，包括教师或学生，由于人数多,一般不直接参与用户的新增操作
	- 查看账号的信息，包括教师或学生的
	- 修改账号的信息，包括教师或学生的, 但特殊情况下才会执行
	- 删除账号，包括教师或学生的
	- 查看机房，查看所有机房的信息（机房编号，最大机位容量.etc）
	- 修改机房的信息（机房编号，最大机位容量.etc）
	- 添加新机房
	- 清空所有预约记录
	- 退出登录


----------------------

### 预约状态
+ 审核中
+ 预约成功
+ 预约失败
+ 取消的预约

### 机房信息
+ 可用的机数
+ 总容量

--------------------------

**下列为初步构思设计,后续或有变动,最终确定见 develop_my_table 目录**

### 用户表
+ 学号/工号
+ 电话
+ 邮箱
+ 姓名
+ 密码
+ 盐值
+ 角色

### 正式预约表（一周清空）
+ 申请时发起时间
+ 预约机房号
+ 申请发起日期(就按此字段进行批量清空)
+ 申请使用具体日期:年月日
+ 时段
+ 申请者
+ 审核者
+ 处理时间
+ 预约状态

### 后备预约表(与正式预约表几近相似)
+ 申请时发起时间
+ 预约机房号
+ 日期
+ 时段
+ 申请者
+ 审核者
+ 预约状态
...
+ 负责清空的管理员

### 机房表
+ 总台数
+ 批准申请者是否已满而不可用
+ 实际可用数量
+ 本次修改的管理员编号
+ 本次修改时间